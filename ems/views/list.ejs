<!-- 
Title: trejo-assignment 6.4.ejs list.ejs
Author: Professor Krasso
Date: 02 10 2022
Modified By: Allan Trejo
Description: Small application using EJS
Attribution: Bulma css framework https://bulma.io
 -->
<%- include ("header") %>
    <div class="container is-fluid">
        <%- include ('navbar') %>
            <nav class="breadcrumb" aria-label="breadcrumbs">
                <ul>
                    <li><a href="/">
                            EMS Home
                        </a></li>

                    <li class="is-active"><a href="#" aria-current="page">
                            <%= title %>
                        </a></li>
                </ul>
            </nav>

            <div class="is-size-4 mt-6 ">
                List of Employees <a href="/new" class="button is-primary ml-5">Add New</a>
            </div>


            <% if (employees.length) { %>
                <table class="table is-hoverable mt-6">
                    <thead>
                        <tr>

                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Functions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% employees.forEach(function (entry) { %>
                            <tr>

                                <td>
                                    <%= entry.firstName %>
                                </td>
                                <td>
                                    <%= entry.lastName %>
                                </td>
                                <td>
                                    <a href="/view/<%= entry.firstName %>">View</a>
                                </td>
                            </tr>
                    </tbody>
                    <% }) %>
                </table>
                <% } else { %>
                    No entries! <a href="/new">Add one!</a>
                    <% } %>
    </div>

    <%- include ("scripts") %>
        <%- include ("footer") %>